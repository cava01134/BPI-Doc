<!DOCTYPE html>

<html lang="zh-CN"  class="">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="keywords" content="">
    
    
    <meta name="description" content="">
    
    <meta name="generator" content="teedoc">
    <meta name="theme" content="teedoc-plugin-theme-default">
    
        
        <meta name="markdown-generator" content="teedoc-plugin-markdown-parser">
        
        <script>
MathJax = {"loader": {"load": ["output/svg"]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]]}, "svg": {"fontCache": "global"}};
</script>
        
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
        <meta name="html-generator" content="teedoc-plugin-jupyter-notebook-parser">
        
        <meta name="blog-generator" content="teedoc-plugin-blog">
        
        <script src="/static/js/theme_default/pre_main.js"></script>
        
        <link rel="stylesheet" href="/static/css/theme_default/prism.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/viewer.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/dark.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/light.css" type="text/css"/>
        
        <script src="/static/js/theme_default/jquery.min.js"></script>
        
        <script src="/static/js/theme_default/split.js"></script>
        
        <link rel="stylesheet" href="/static/css/search/style.css" type="text/css"/>
        
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?789a62aac0b25ad52089ddb4f85128cd";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
        
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-MRHWDDNYB6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'G-MRHWDDNYB6');
    </script>
        
        <link rel="stylesheet" href="/static/css/gitalk/gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/gitalk/custom_gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/custom.css" type="text/css"/>
        
    
    
    <title>åŸºç¡€åŠŸèƒ½ä½¿ç”¨ - BPI-Steam</title>
    
    <script type="text/javascript">js_vars = {}</script>
</head>


<body class="type_doc">
    
    <div id="navbar">
        <div id="navbar_menu">
            <a class="site_title" href="/">
                
                    <img class="site_logo" src="/static/image/logo.png" alt="Banana Pi logo">
                
                
                    <h2>wiki</h2>
                
        </a>
            <a id="navbar_menu_btn"></a>
        </div>
        <div id="navbar_items">
            <div>
                <ul id="nav_left">
<li class=""><a  href="/zh/">é¦–é¡µ</a></li>
<li class="sub_items "><a  href="">WebBit</a><ul><li class=""><a  href="/WebBit_doc/zh/">WebBitä½¿ç”¨æ‰‹å†Œ</a></li>
<li class=""><a  href="/WebBit_dev/zh/">WebBitå¼€å‘æ‰‹å†Œ</a></li>
<li class=""><a  href="/WebBit_V2_doc/zh/">WebBit V2ä½¿ç”¨æ‰‹å†Œ</a></li>
</ul></li>
<li class=""><a  href="/WebAI/zh/">WebAI</a></li>
<li class=""><a  href="/Leaf_S3_doc/zh/">Leaf-S3</a></li>
<li class="sub_items "><a  href="">PicoPicoW-S3</a><ul><li class=""><a  href="/Pico_RP2040_doc/zh/">Pico-RP2040</a></li>
<li class="active"><a  href="/PicoW_S3_doc/zh/">PicoW-S3</a></li>
</ul></li>
<li class="sub_items "><a  href="">é…ä»¶</a><ul><li class=""><a  href="/Q-Car/zh/">Q-Car</a></li>
<li class=""><a  href="/Triode-Car/zh/">Triode-Car</a></li>
</ul></li>
<li class=""><a  href="/About/zh/">å…³äºæˆ‘ä»¬</a></li>
</ul>

            </div>
            <div>
                <ul id="nav_right">
<li class="sub_items "><a  href="">language: ä¸­æ–‡ ç®€ä½“</a><ul><li class=""><a  href="/PicoW_S3_doc/zh_tw/">ä¸­æ–‡ ç¹é«”</a></li>
<li class=""><a  href="/PicoW_S3_doc/en/">English</a></li>
<li class="active"><a  href="/PicoW_S3_doc/zh/">ä¸­æ–‡ ç®€ä½“</a></li>
</ul></li>
</ul>

                <ul class="nav_plugins"><li><a id="google_translate_element"><img class="icon" src="/static/image/google_translate/translate.svg"/>Translate</a></li></ul><ul class="nav_plugins"><li><a id="themes" class="light"></a></li></ul><ul class="nav_plugins"><li><a id="search"><span class="icon"></span><span class="placeholder">æœç´¢</span>
                            <div id="search_hints">
                                <span id="search_input_hint">è¾“å…¥å…³é”®è¯ï¼Œå¤šå…³é”®è¯ç©ºæ ¼éš”å¼€</span>
                                <span id="search_loading_hint">æ­£åœ¨åŠ è½½ï¼Œè¯·ç¨å€™ã€‚ã€‚ã€‚</span>
                                <span id="search_download_err_hint">ä¸‹è½½æ–‡ä»¶å¤±è´¥ï¼Œè¯·åˆ·æ–°é‡è¯•æˆ–æ£€æŸ¥ç½‘ç»œ</span>
                                <span id="search_other_docs_result_hint">æ¥è‡ªå…¶å®ƒæ–‡æ¡£çš„ç»“æœ</span>
                                <span id="search_curr_doc_result_hint">å½“å‰æ–‡æ¡£æœç´¢ç»“æœ</span>
                            </div></a></li></ul>
            </div>
        </div>
    </div>
    
    <div id="wrapper">
        <div id="sidebar_wrapper">
            <div id="sidebar">
                <div id="sidebar_title">
                    
                </div>
                <ul class="show">
<li class="not_active no_link"><a><span class="label">ä¸€ã€å¼€ç®± PicoW-S3 å¼€å‘æ¿</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/PicoW_S3_doc/zh/Unboxing/Introduction.html"><span class="label">PicoW-S3 ä»‹ç»</span><span class=""></span></a></li>
</ul>
</li>
<li class="active_parent no_link"><a><span class="label">äºŒã€ä½¿ç”¨CircuitPythonç¼–ç¨‹</span><span class="sub_indicator"></span></a><ul class="show">
<li class="not_active with_link"><a href="/PicoW_S3_doc/zh/CircuitPython/supported_by_circuitpython.html"><span class="label">å·²å¾—åˆ°CircuitPythonå®˜æ–¹æ”¯æŒ</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/PicoW_S3_doc/zh/CircuitPython/config_mu-editor.html"><span class="label">é…ç½®ä½¿ç”¨ç¯å¢ƒ(Muç¼–è¾‘å™¨)</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/PicoW_S3_doc/zh/CircuitPython/update_circuitpython.html"><span class="label">æ›´æ–°CircuitPythonå›ºä»¶çš„æ–¹æ³•</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/PicoW_S3_doc/zh/CircuitPython/flash_tinyuf2.html"><span class="label">çƒ§å½•tinyUF2å›ºä»¶çš„æ–¹æ³•</span><span class=""></span></a></li>
<li class="active with_link"><a href="/PicoW_S3_doc/zh/CircuitPython/Basic.html"><span class="label">åŸºç¡€åŠŸèƒ½ä½¿ç”¨</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">ä¸‰ã€ä½¿ç”¨ Arduino ç¼–ç¨‹</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/PicoW_S3_doc/zh/Arduino/Environment.html"><span class="label">Arduinoç¯å¢ƒæ­å»º</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/PicoW_S3_doc/zh/Arduino/Basic.html"><span class="label">åŸºç¡€åŠŸèƒ½ä½¿ç”¨</span><span class=""></span></a></li>
</ul>
</li>
</ul>

            </div>
        </div>
        <div id="article">
            <div id="menu_wrapper">
                <div id="menu">
                </div>
            </div>
            <div id="content_wrapper">
                <div id="content_body">
                    <div id="article_head">
                        <div id="article_title">
                            
                            <h1>åŸºç¡€åŠŸèƒ½ä½¿ç”¨</h1>
                            
                        </div>
                        <div id="article_tags">
                            <ul>
                            
                            </ul>
                        </div>
                        <div id="article_info">
                        <div id="article_info_left">
                            <span class="article_author">
                                
                            </span>
                            
                                <span class="article_date" title="æœ€åä¿®æ”¹æ—¥æœŸï¼š 2022-12-02">
                                    2022-12-02
                                </span>
                            
                        </div>
                        <div id="article_info_right">
                            
                            <div id="source_link">
                                <a href="https://github.com/BPI-STEAM/BPI-Doc/blob/main/docs/PicoW_S3_doc/zh/CircuitPython/Basic.md" target="_blank">
                                    ç¼–è¾‘æœ¬é¡µ
                                </a>
                            </div>
                            
                        </div>
                        </div>
                    </div>
                    <div id="article_tools">
                        <span></span>
                        <span id="toc_btn"></span>
                    </div>
                    <div id="update_history">
                        
                    </div>
                    <div id="article_content">
                        
                            <h2 id="REPL%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8">REPLç®€å•ä½¿ç”¨</h2>
<h3 id="Hello-World%21">Hello World!</h3>
<ol>
<li>ç¡®ä¿å·²åœ¨Muç¼–è¾‘å™¨ä¸­æ­£ç¡®è¿æ¥å¼€å‘æ¿ï¼Œå‚è€ƒ<a href="config_mu-editor.html"  >é…ç½®ä½¿ç”¨ç¯å¢ƒ(Muç¼–è¾‘å™¨)</a>ã€‚</li>
<li>åœ¨CircuitPython REPLçª—å£ä¸­é€šå¸¸ä¼šå‡ºç°å¦‚ä¸‹ä¿¡æ¯ï¼Œ<code>&gt;&gt;&gt;</code>ç¬¦å·çš„å‡ºç°å³ä»£è¡¨æˆ‘ä»¬å¯ä»¥å¼€å§‹åœ¨å…¶åè¾“å…¥å‘½ä»¤ä¸å…¶äº¤äº’äº†ã€‚</li>
</ol>

<pre class="language-none"><code class="language-none">]0;ğŸWi-Fi: off | Done | 8.0.0-beta.0-49-g14fc4a079\Auto-reload is on. Simply save files over USB to run them or enter REPL to disable.

Press any key to enter the REPL. Use CTRL-D to reload.
]0;ğŸWi-Fi: off | Done | 8.0.0-beta.0-49-g14fc4a079\]0;ï¿½Wi-Fi: off | REPL | 8.0.0-beta.0-49-g14fc4a079\
Adafruit CircuitPython 8.0.0-beta.0-49-g14fc4a079 on 2022-09-20; BPI-PicoW-S3 with ESP32S3
&gt;&gt;&gt; 
</code></pre>
<ol start="3">
<li>åœ¨<code>&gt;&gt;&gt;</code>ç¬¦å·å³ä¾§å¼€å§‹è¾“å…¥å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š<code>print(&quot;Hello Worldï¼&quot;)</code>ã€‚</li>
</ol>
<blockquote>
<p>æ³¨æ„ä½¿ç”¨è‹±æ–‡è¾“å…¥æ³•ï¼Œä¸­æ–‡å­—ç¬¦æ— æ³•è¢«REPLè¯†åˆ«ã€‚</p>
</blockquote>

<pre class="language-py"><code class="language-py">&gt;&gt;&gt; print(&quot;Hello World!&quot;)
Hello World!
&gt;&gt;&gt; 
</code></pre>
<h3 id="REPL%E5%BF%AB%E6%8D%B7%E9%94%AE">REPLå¿«æ·é”®</h3>
<ol>
<li>å¤åˆ¶ <code>ctrl + shift + c</code>ã€‚</li>
<li>ç²˜è´´ <code>ctrl + shift + v</code>ã€‚<br />
ä½¿ç”¨é¼ æ ‡å·¦é”®åœ¨REPLä¸­æ‹–é€‰éœ€è¦å¤åˆ¶çš„å‘½ä»¤ï¼Œé”®ç›˜æŒ‰ä¸‹å¤åˆ¶å¿«æ·é”®ï¼Œå†æŒ‰ä¸‹ç²˜è´´å¿«æ·é”®å³å¯å¤åˆ¶ç²˜è´´å‘½ä»¤ã€‚</li>
<li>è½¯å¤ä½ <code>ctrl + d</code>ã€‚</li>
<li>ä¸­æ–­ <code>ctrl + c</code>, ä¸­æ–­å½“å‰æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºï¼Œä½†ä¸ä¼šé‡å¯å¤ä½ã€‚</li>
</ol>
<h3 id="%E6%9F%A5%E7%9C%8B%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97">æŸ¥çœ‹å†…ç½®æ¨¡å—</h3>
<ol>
<li>åœ¨REPLä¸­è¾“å…¥ <code>help(&quot;modules&quot;)</code> å°†åˆ—å‡ºå½“å‰CircuitPythonå¼€å‘æ¿å†…æ‰€æœ‰æ¨¡å—ã€‚</li>
<li>å¯¼å…¥æ¨¡å—åå¯å†ä½¿ç”¨<code>help()</code>å‡½æ•°æŸ¥çœ‹è¯¥æ¨¡å—å†…éƒ¨å¯ç”¨çš„å‡½æ•°åæˆ–å˜é‡åï¼Œä¾‹å¦‚æŸ¥çœ‹<code>board</code>æ¨¡å—ï¼Œå³å¯çœ‹åˆ°å¼€å‘æ¿æ‰€æœ‰å¯ç”¨çš„å¼•è„šä¸å¤–è®¾åŠŸèƒ½ã€‚</li>
</ol>

<pre class="language-py"><code class="language-py">&gt;&gt;&gt; import board
&gt;&gt;&gt; help(board)
object &lt;module 'board'&gt; is of type module
  __name__ -- board
  board_id -- bpi_picow_s3
  GP0 -- board.GP0
  GP1 -- board.GP1
  GP2 -- board.GP2
  GP3 -- board.GP3
  GP4 -- board.GP4
  GP5 -- board.GP5
  GP6 -- board.GP6
  GP7 -- board.GP7
  GP8 -- board.GP8
  GP9 -- board.GP9
  GP10 -- board.GP10
  GP11 -- board.GP11
  GP12 -- board.GP12
  GP13 -- board.GP13
  GP14 -- board.GP14
  GP15 -- board.GP15
  GP16 -- board.GP16
  GP17 -- board.GP17
  GP18 -- board.GP18
  GP19 -- board.GP19
  GP20 -- board.GP20
  GP21 -- board.GP21
  GP22 -- board.GP22
  GP25 -- board.GP25
  LED -- board.GP25
  GP26 -- board.GP26
  GP26_A0 -- board.GP26
  A0 -- board.GP26
  GP27 -- board.GP27
  GP27_A1 -- board.GP27
  A1 -- board.GP27
  GP28 -- board.GP28
  GP28_A2 -- board.GP28
  A2 -- board.GP28
  GP29 -- board.GP29
  GP29_A3 -- board.GP29
  A3 -- board.GP29
  NEOPIXEL -- board.NEOPIXEL
  TX -- board.GP0
  RX -- board.GP1
  BOOT0 -- board.BOOT0
  UART -- &lt;function&gt;
&gt;&gt;&gt; 
</code></pre>
<h2 id="%E4%BD%BFWS2812%E5%BD%A9%E7%81%AF%E9%97%AA%E7%83%81">ä½¿WS2812å½©ç¯é—ªçƒ</h2>
<ol>
<li><p>åœ¨Muç¼–è¾‘å™¨ä¸­ç‚¹å‡»<strong>Load</strong>æŒ‰é’®ï¼Œé€‰æ‹©CircuitPythonå¼€å‘æ¿ä¸Šçš„ code.py æ–‡ä»¶ï¼Œç‚¹å‡» <strong>æ‰“å¼€</strong>ï¼Œå³å¯å¼€å§‹ç¼–è¾‘ code.py ã€‚</p>
</li>
<li><p>åœ¨ç¼–è¾‘å™¨ä¸­è¾“å…¥å¦‚ä¸‹ä»£ç ï¼š</p>
</li>
</ol>

<pre class="language-python"><code class="language-python">import time
import board
import neopixel

pixels = neopixel.NeoPixel(board.NEOPIXEL, 1, brightness=0.1)

while 1:
    pixels[0] = (255,0,0)
    pixels.show()
    time.sleep(0.5)
    pixels[0] = (0,255,0)
    pixels.show()
    time.sleep(0.5)
    pixels[0] = (0,0,255)
    pixels.show()
    time.sleep(0.5)
    pixels[0] = (255,255,255)
    pixels.show()
    time.sleep(0.5)
</code></pre>
<ol start="3">
<li>ç‚¹å‡»<strong>Save</strong>æŒ‰é’®ï¼Œç¼–è¾‘çš„å†…å®¹å°†ä¿å­˜åˆ°CircuitPythonå¼€å‘æ¿ï¼Œä»£ç æ— è¯¯çš„æƒ…å†µä¸‹ï¼Œå¼€å‘æ¿ä¸Šçš„å½©è‰²LEDå°†å¾ªç¯é—ªçƒ çº¢ç»¿è“ç™½ã€‚å°†å¼€å‘æ¿å¤ä½æˆ–é‡æ–°ä¸Šç”µï¼Œç¨‹åºå°†é‡æ–°å¼€å§‹è¿è¡Œã€‚</li>
<li>åœ¨REPLä¸­ä½¿ç”¨ä¸­æ–­å¿«æ·é”®å³å¯åœæ­¢ç¨‹åºçš„è¿è¡Œã€‚</li>
<li>ä»£ç ä¹Ÿå¯ç›´æ¥å¤åˆ¶ç²˜è´´åˆ°REPLä¸­è¿è¡Œã€‚</li>
</ol>
<blockquote>
<p>åç»­æ‰€æœ‰ç¤ºä¾‹éƒ½å¯å¦‚æ­¤ç¼–è¾‘code.pyæ–‡ä»¶æˆ–å¤åˆ¶ç²˜è´´åˆ°REPLä¸­è¿è¡Œã€‚ä½†åœ¨code.pyæ–‡ä»¶ä¸­çš„ç¨‹åºä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œå¼€å‘æ¿ä¼šæ¢å¤æœªè¿è¡Œæ—¶çš„çŠ¶æ€ï¼Œä¸ä¼šä¿ç•™çŠ¶æ€ï¼Œä½†åœ¨REPLä¸­æ‰§è¡Œåˆ™ä¼šä¿ç•™çŠ¶æ€ã€‚</p>
</blockquote>
<h2 id="%E4%BD%BF%E5%BC%95%E8%84%9A%E8%BE%93%E5%87%BA%E9%AB%98%E4%BD%8E%E7%94%B5%E5%B9%B3%EF%BC%8C%E6%8E%A7%E5%88%B6LED">ä½¿å¼•è„šè¾“å‡ºé«˜ä½ç”µå¹³ï¼Œæ§åˆ¶LED</h2>
<ol>
<li><code>board.LED</code>æ§åˆ¶ç€PicoW-S3ä¸Šçš„ä¸€é¢—å•è‰²LEDå‘å…‰äºŒæç®¡ï¼Œé«˜ç”µå¹³ç‚¹äº®ï¼Œä½ç”µå¹³ç†„ç­ï¼Œåœ¨REPLä¸­è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</li>
</ol>

<pre class="language-py"><code class="language-py">import board
import digitalio
ledpin = digitalio.DigitalInOut(board.LED)
ledpin.direction = digitalio.Direction.OUTPUT
ledpin.value = True
</code></pre>
<ol start="2">
<li>æˆ–è€…è¿™ä¹ˆåšï¼š</li>
</ol>

<pre class="language-py"><code class="language-py">import board
import digitalio
ledpin = digitalio.DigitalInOut(board.LED)
ledpin.switch_to_output(value=True) # value=1
</code></pre>
<ol start="3">
<li>è®©LEDé—´éš”0.5ç§’é—ªçƒï¼š</li>
</ol>

<pre class="language-py"><code class="language-py">import board
import digitalio
import time
ledpin = digitalio.DigitalInOut(board.LED)
while True:
    ledpin.switch_to_output(value=1)
    time.sleep(0.5)
    ledpin.switch_to_output(value=0)
    time.sleep(0.5)

</code></pre>
<ol start="4">
<li><p>åœ¨REPLä¸­ä½¿ç”¨ä¸­æ–­å¿«æ·é”®å³å¯åœæ­¢ç¨‹åºçš„è¿è¡Œã€‚</p>
</li>
<li><p>åœ¨REPLä¸­è¾“å…¥<code>import board;help(board)</code>å³å¯åˆ—å‡ºæ‰€æœ‰å¯æ§åˆ¶çš„å¼•è„šã€‚<code>board.GP25</code> ä¸ <code>board.LED</code>å®Œå…¨ç›¸åŒã€‚</p>
</li>
</ol>
<h2 id="PWM%E8%BE%93%E5%87%BA%EF%BC%8C%E6%8E%A7%E5%88%B6LED%E4%BA%AE%E5%BA%A6">PWMè¾“å‡ºï¼Œæ§åˆ¶LEDäº®åº¦</h2>
<ol>
<li>å¯é€šè¿‡æ§åˆ¶PWMå ç©ºæ¯”æ¥æ§åˆ¶LEDç¯äº®åº¦ï¼Œæ§åˆ¶å ç©ºæ¯”ä»0%~100%ï¼Œé‡‡ç”¨16ä½ç²¾åº¦ï¼Œåè¿›åˆ¶ä¸º 0~65535 ï¼Œ16è¿›åˆ¶ä¸º 0~FFFF ã€‚åœ¨REPLä¸­è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</li>
</ol>

<pre class="language-py"><code class="language-py">import board
import pwmio
ledpin = pwmio.PWMOut(board.LED, frequency=25000, duty_cycle=0)
ledpin.duty_cycle = 32768  # mid-point 0-65535 = 50 % duty-cycle
</code></pre>
<ol start="2">
<li>ä»…éœ€åœ¨REPLä¸­å†æ¬¡è¾“å…¥æœ€åä¸€è¡Œä»£ç å³å¯æ”¹å˜PWMå ç©ºæ¯”ï¼Œä½¿LEDè¾¾åˆ°æœ€å¤§äº®åº¦ï¼š</li>
</ol>

<pre class="language-py"><code class="language-py">ledpin.duty_cycle = 65535
</code></pre>
<ol start="3">
<li>å‘¼å¸ç¯ï¼š</li>
</ol>

<pre class="language-py"><code class="language-py">import board
import pwmio
import time

ledpin = pwmio.PWMOut(board.LED, frequency=25000, duty_cycle=0)

while True:
    for i in range(0, 65535, 1):
        ledpin.duty_cycle = i
    for i in range(65535, 0, -1):
        ledpin.duty_cycle = i
</code></pre>
<h2 id="PWM%E8%BE%93%E5%87%BA%EF%BC%8C%E6%8E%A7%E5%88%B6180%E5%BA%A6%E8%88%B5%E6%9C%BA">PWMè¾“å‡ºï¼Œæ§åˆ¶180åº¦èˆµæœº</h2>
<p><img src="../assets/images/MG90S-Wiring-Diagram.jpg" alt="" /></p>
<p>ä»¥MG90Sèˆµæœºä¸ºä¾‹ï¼Œå…¶ä»–å„ç§èˆµæœºå‚è€ƒå…¶å¯¹åº”çš„ä½¿ç”¨æ‰‹å†Œï¼Œåœ¨ä»¥ä¸‹ä»£ç ä¸­ä¿®æ”¹ç›¸åº”çš„å‚æ•°ã€‚</p>
<ol>
<li>MG90Sèˆµæœºå…³é”®å‚æ•°ï¼š<ul>
<li>æ§åˆ¶è§’åº¦ï¼Œ0Â° ~ 180Â°</li>
<li>PWM å ç©ºæ—¶é•¿æ§åˆ¶ï¼Œ500us ~ 2500us å¯¹åº” 0Â° ~ 180Â°</li>
<li>å·¥ä½œç”µå‹ï¼š4.8V è‡³ 6Vï¼ˆå…¸å‹å€¼ä¸º 5Vï¼‰</li>
<li>å¤±é€Ÿæ‰­çŸ©ï¼š1.8 kg/cm (4.8V)</li>
<li>æœ€å¤§å¤±é€Ÿæ‰­çŸ©ï¼š2.2 kg/cm (6V)</li>
<li>å·¥ä½œé€Ÿåº¦ä¸º 0.1s/60Â° (4.8V)</li>
</ul>
</li>
<li>æ±‚å–ä»»æ„ä¸€ä¸ªæ—‹è½¬è§’åº¦æ‰€éœ€çš„å ç©ºæ—¶é•¿çš„è¡¨è¾¾å¼ä¸ºï¼š
<pre class="language-none"><code class="language-none"> è®¾yä¸ºå ç©ºæ—¶é•¿ï¼Œxä¸ºæ—‹è½¬è§’åº¦
 y=(2500-500)/180*x+500
 y=(100*x+4500)/9
</code></pre>
</li>
<li>æ ¹æ®å‚æ•°ï¼Œå¯ä»¥ç¡®å®šèˆµæœºè§’åº¦ç”±PWMæ³¢çš„é«˜ç”µå¹³æŒç»­æ—¶é•¿æ‰€æ§åˆ¶ï¼Œä¸”ç”±äºèˆµæœºçš„æ§åˆ¶å¿…é¡»ç”±å‘¨æœŸæ€§çš„PWMæ³¢å½¢æ§åˆ¶ï¼Œæ‰€ä»¥ä¸€ä¸ªå‘¨æœŸæ—¶é•¿å¿…é¡»è¶…è¿‡æ§åˆ¶æ­¤èˆµæœºè¾¾åˆ°180Â°æ‰€éœ€çš„å ç©ºæ—¶é•¿ï¼Œå³è¶…è¿‡2500usï¼Œåˆ™PWMé¢‘ç‡è¦ä½äº400hzã€‚</li>
<li>è®¾å®šPWMé¢‘ç‡ä¸º200hzï¼Œåˆ™å‘¨æœŸæ—¶é•¿ä¸º5000usï¼Œå¯¹åº”æ§åˆ¶æ­¤èˆµæœºæ—‹è½¬ 0Â° ~ 180Â°çš„å ç©ºæ¯”ä¸º10% ~ 50% ã€‚</li>
<li>circuitpythonçš„PWMå ç©ºæ¯”æ§åˆ¶ç²¾åº¦ä¸º16bitï¼Œ100%å ç©ºæ¯”åœ¨ 2è¿›åˆ¶ä¸­è¡¨è¾¾ä¸º 1111 1111 1111 1111ï¼Œ16è¿›åˆ¶è¡¨è¾¾ä¸º FFFFï¼Œ10è¿›åˆ¶è¡¨è¾¾ä¸º 65535ã€‚</li>
<li>æ±‚å–ä»»æ„ä¸€ä¸ªæ—‹è½¬è§’åº¦æ‰€éœ€çš„å ç©ºæ¯”çš„è¡¨è¾¾å¼ä¸ºï¼š
<pre class="language-none"><code class="language-none">è®¾yä¸ºå ç©ºæ¯”ï¼Œxä¸ºæ—‹è½¬è§’åº¦
y=((50-10)/180*x+10)/100*65535
y=(4369*x+196605)/30
</code></pre>
</li>
<li>èˆµæœºä¸BPI-PicoW-S3çš„æ¥çº¿æ–¹å¼:<blockquote>
BPI-PicoW-S3çš„VBSå¼•è„šå¯è¾“å‡º+5Vï¼›é™¤GP0ä»¥å¤–ï¼Œæ‰€æœ‰GPå¼•è„šéƒ½å¯ä»¥ç”¨äºè¾“å‡ºPWMï¼Œä»…éœ€åœ¨ç¨‹åºä¸­ä¿®æ”¹åˆ°å¯¹åº”å¼•è„šå³å¯ã€‚</blockquote>
</li>
</ol>
<table>
<thead>
<tr>
  <th style="text-align:center">èˆµæœº</th>
  <th style="text-align:center">BPI-PicoW-S3</th>
</tr>
</thead>
<tbody>
<tr>
  <td style="text-align:center">GND æ£•è‰²</td>
  <td style="text-align:center">GND</td>
</tr>
<tr>
  <td style="text-align:center">+5V çº¢è‰²</td>
  <td style="text-align:center">VBS</td>
</tr>
<tr>
  <td style="text-align:center">PWM æ©™è‰²</td>
  <td style="text-align:center">GP0</td>
</tr>
</tbody>
</table>
<ol start="8">
<li><p>æ ¹æ®ä»¥ä¸Šè¡¨è¾¾å¼ä¸å‚æ•°è®¾è®¡ä¸€ä¸ªå¯ä»¥ä»»æ„æ§åˆ¶æ­¤èˆµæœºæ—‹è½¬è§’åº¦çš„ç¨‹åºï¼š</p>

<pre class="language-py"><code class="language-py">import board
import pwmio
import time
servo_1 = pwmio.PWMOut(board.GP0, frequency=200, duty_cycle=0)#200hz, one cycle 5000us

def get_duty_cycle(x):
    return int((4369*x+196605)/30)

servo_1.duty_cycle = get_duty_cycle(90)# 90 degrees
</code></pre>
</li>
<li><p>é€šè¿‡ä¸€ä¸ªé€»è¾‘åˆ†æä»ªå¯ä»¥è¯»å‡ºæ­¤ç¨‹åºæ‰€æ§åˆ¶è¾“å‡ºçš„PWMå ç©ºæ—¶é•¿ï¼Œä¸è®¡ç®—çš„æ•°å€¼åº”å½“ç›¸ç¬¦ã€‚<br />
<img src="../assets/images/MG90S_pulseveiw_2.png" alt="" /><br />
<img src="../assets/images/MG90S_pulseveiw_1.png" alt="" /></p>
</li>
<li><p>ä½¿ç”¨åˆ—è¡¨è®¾è®¡ä¸€å¥—è¿ç»­çš„èˆµæœºåŠ¨ä½œï¼š</p>

<pre class="language-py"><code class="language-py">import board
import pwmio
import time
servo_1 = pwmio.PWMOut(board.GP0, frequency=200, duty_cycle=0)#200hz, one cycle 5000us

def get_duty_cycle(x):
   return int((4369*x+196605)/30) 

action_list1 = [0,45,90,135,180,0,180,45,135,90]

while True:
   for i in action_list1:
       servo_1.duty_cycle = get_duty_cycle(i)
       time.sleep(0.5)
</code></pre>
</li>
</ol>
<h2 id="ADC%E8%BE%93%E5%85%A5%EF%BC%8C%E8%AF%BB%E5%8F%96%E5%8F%8C%E8%BD%B4%E6%91%87%E6%9D%86%E5%9D%90%E6%A0%87">ADCè¾“å…¥ï¼Œè¯»å–åŒè½´æ‘‡æ†åæ ‡</h2>
<p><img src="../assets/images/Dual-axis_joystick.jpg" alt="" /></p>
<p>è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„åŒè½´XYæ‘‡æ†æ¨¡å—ï¼Œä½¿ç”¨äº†ä¸¤ä¸ªç”µä½å™¨æœ€ä¸ºå…¶æ ¸å¿ƒå™¨ä»¶ï¼Œé€šè¿‡èŠ¯ç‰‡çš„ADC æ¨¡/æ•°è½¬æ¢å™¨ è¯»å–å®ƒä»¬å„è‡ªçš„ç”µå‹æ•°å€¼ï¼Œå³å¯å°†è¯»æ•°è½¬åŒ–ä¸ºå…¶åœ¨XYåæ ‡è½´ä¸Šçš„ä½ç½®ã€‚</p>
<table>
<thead>
<tr>
  <th style="text-align:center">åŒè½´æ‘‡æ†</th>
  <th style="text-align:center">BPI-PicoW-S3</th>
</tr>
</thead>
<tbody>
<tr>
  <td style="text-align:center">GND</td>
  <td style="text-align:center">GND</td>
</tr>
<tr>
  <td style="text-align:center">+5V</td>
  <td style="text-align:center">3V3</td>
</tr>
<tr>
  <td style="text-align:center">VRx</td>
  <td style="text-align:center">GP27_A1</td>
</tr>
<tr>
  <td style="text-align:center">VRY</td>
  <td style="text-align:center">GP26_A0</td>
</tr>
</tbody>
</table>
<ol>
<li><p>åœ¨CircuitPythonä¸­æä¾›çš„ADCç²¾åº¦æ˜¯16bitï¼Œå³æœ€å¤§å€¼çš„16è¿›åˆ¶è¡¨è¾¾ä¸º FFFFï¼Œ10è¿›åˆ¶è¡¨è¾¾ä¸º 65535ï¼Œå¯¹åº”çš„ç”µå‹é‡ç¨‹ä¸º0mv ~ 3300mvã€‚BPI-PicoW-S3æ‰€ä½¿ç”¨çš„EPS32S3èŠ¯ç‰‡å®é™…ADCç”µå‹é‡ç¨‹ä¸º0mv ~ 3100mvï¼Œæ‰€ä»¥å®é™…åº”ç”¨æ—¶ä»…èƒ½æµ‹é‡åˆ°3100mvã€‚</p>
</li>
<li><p>åŸºç¡€ADCè¯»æ•°ï¼Œè¯»å–ä¸¤ä¸ªç”µä½å™¨çš„æ•°å€¼ï¼Œè½¬æ¢ä¸ºç”µå‹æ•°å€¼ã€‚</p>
</li>
</ol>

<pre class="language-python"><code class="language-python">import board,analogio,time

x_axis_pin = analogio.AnalogIn(board.A0)
y_axis_pin = analogio.AnalogIn(board.A1)

while True:
    x_axis = x_axis_pin.value
    y_axis = y_axis_pin.value
    # print((x_axis,y_axis))
    x_value = x_axis / 65535 * 3300
    y_value = y_axis / 65535 * 3300
    print(&quot;{0}mv,{1}mv&quot;.format(x_value,y_value))
    time.sleep(0.1)
</code></pre>
<ol start="3">
<li>åœ¨Muç¼–è¾‘å™¨ä¸­ï¼Œç‚¹å‡»<code>Plotter</code>å›¾æ ‡å³å¯æ˜¾ç¤ºç»˜å›¾ä»ªï¼Œå¯ä»¥å®æ—¶å°†REPLè¾“å‡ºçš„æ•°å€¼æ˜¾ç¤ºä¸ºä¸æ—¶é—´ç›¸å…³çš„æŠ˜çº¿å›¾ã€‚</li>
</ol>
<p><img src="../assets/images/circuitpython_plotter.png" alt="" /></p>
<ol start="4">
<li>ä»¥ä¸‹ç¨‹åºå¯å®ç°æ ¡å‡†åæ ‡é›¶ç‚¹çš„åŠŸèƒ½ã€‚å¼€å§‹è¿è¡Œçš„å‰äº”ç§’ï¼Œè¯·é™æ­¢æ‘‡æ†ç­‰å¾…è·å–é›¶ç‚¹æ•°å€¼ã€‚</li>
</ol>
<blockquote>
<p>æ³¨æ„ä»£ç ä¸­å°†xyè½´å¯¹æ¢äº†ï¼Œå°†åŒè½´æ‘‡æ†æ¨¡å—é€†æ—¶é’ˆæ—‹è½¬90Â°å³å¯å¯¹åº”ä½¿ç”¨ã€‚æ­¤åšæ³•å¯ä½¿æ‘‡æ†åœ¨yè½´ä¸Šç§»æ—¶ADCè¯»æ•°å¢åŠ ï¼Œåä¹‹å‡å°‘ï¼Œç¬¦åˆå¸¸è§ç›´è§’åæ ‡ç³»çš„è§„å¾‹ã€‚</p>
</blockquote>

<pre class="language-python"><code class="language-python">import board,analogio,time

x_axis_pin = analogio.AnalogIn(board.A0)
y_axis_pin = analogio.AnalogIn(board.A1)

def get_zero(times =500, sleep = 0.01):
    x_total = 0
    y_total = 0
    for i in range (times):
        x_axis = x_axis_pin.value
        y_axis = y_axis_pin.value
        x_total += x_axis
        y_total += y_axis
        time.sleep(sleep)
    x_zero = x_total // times
    y_zero = y_total // times
    return (x_zero,y_zero)

zero = get_zero(times =500, sleep = 0.01)
print(zero)

while True:
    x_axis = x_axis_pin.value - zero[0]
    y_axis = y_axis_pin.value - zero[1]
    print((x_axis,y_axis))
    time.sleep(0.1)
</code></pre>
<ol start="5">
<li>ä»¥ä¸‹ç¨‹åºå¯è·å–æ‘‡æ†æ–¹å‘ï¼Œè¿™æ˜¯åŒè½´æ‘‡æ†æœ€å¸¸è§çš„åº”ç”¨ã€‚</li>
</ol>

<pre class="language-python"><code class="language-python">import board,analogio,time

x_axis_pin = analogio.AnalogIn(board.A0)
y_axis_pin = analogio.AnalogIn(board.A1)

direction_list = [&quot;East&quot;,&quot;Southeast&quot;,&quot;South&quot;,&quot;Southwest&quot;,&quot;West&quot;,&quot;Northwest&quot;,&quot;North&quot;,&quot;Northeast&quot;,&quot;Centre&quot;]

def get_zero(times =500, sleep = 0.01):
    x_total = 0
    y_total = 0
    for i in range (times):
        x_axis = x_axis_pin.value
        y_axis = y_axis_pin.value
        x_total += x_axis
        y_total += y_axis
        time.sleep(sleep)
    x_zero = x_total // times
    y_zero = y_total // times
    return (x_zero,y_zero)

def get_direction(zero = (32767,32767)):
    x_axis = x_axis_pin.value - zero[0]
    y_axis = y_axis_pin.value - zero[1]
    if x_axis &gt;= 10000 and -10000 &lt; y_axis &lt; 10000:
        return direction_list[0]
    elif x_axis &gt;= 10000 and y_axis &lt;= -10000:
        return direction_list[1]
    elif -10000 &lt; x_axis &lt; 10000 and y_axis &lt;= -10000:
        return direction_list[2]
    elif x_axis &lt;= -10000 and y_axis &lt;= -10000:
        return direction_list[3]
    elif x_axis &lt;= -10000 and -10000 &lt; y_axis &lt; 10000:
        return direction_list[4]
    elif x_axis &lt;= -10000 and y_axis &gt;= 10000:
        return direction_list[5]
    elif -10000 &lt; x_axis &lt; 10000 and y_axis &gt;= 10000:
        return direction_list[6]
    elif x_axis &gt;=10000 and y_axis &gt;= 10000:
        return direction_list[7]
    else :
        return direction_list[8]

zero = get_zero(times =50, sleep = 0.01)
print(zero)

while True:
    x_axis = x_axis_pin.value - zero[0]
    y_axis = y_axis_pin.value - zero[1]
    print((x_axis,y_axis))
    print(get_direction(zero = zero))
    time.sleep(0.1)
</code></pre>
<ol start="6">
<li>ä»¥ä¸‹ç¨‹åºå¯è®¾ç½®åæ ‡ç²¾åº¦ç­‰çº§ï¼Œè®¡ç®—æ¯çº§è·¨åº¦ï¼Œå¯ä»¥æŒ‰éœ€æ±‚æ¶ˆé™¤æŠ–åŠ¨ï¼Œå¢å¼ºæ•°æ®çš„å®ç”¨æ€§ã€‚</li>
</ol>

<pre class="language-python"><code class="language-python">import board,analogio,time

x_axis_pin = analogio.AnalogIn(board.A0)
y_axis_pin = analogio.AnalogIn(board.A1)

def get_zero(times =500, sleep = 0.01):
    x_total = 0
    y_total = 0
    for i in range (times):
        x_axis = x_axis_pin.value
        y_axis = y_axis_pin.value
        x_total += x_axis
        y_total += y_axis
        time.sleep(sleep)
    x_zero = x_total // times
    y_zero = y_total // times
    return (x_zero,y_zero)

def get_extremum(times =500, sleep = 0.01):
    x_list = []
    y_list = []
    for i in range (times):
        x_axis = x_axis_pin.value
        y_axis = y_axis_pin.value
        x_list.append(x_axis)
        y_list.append(y_axis)
        time.sleep(sleep)
    x_extremum = (min(x_list),max(x_list))
    y_extremum = (min(y_list),max(y_list))
    return (x_extremum,y_extremum)

def get_spacing(level = 16 , zero =(32767,32767) ,x_extremum = (0,65535),y_extremum = (0,65535)):
    x_temp_1 = (zero[0] - x_extremum[0]) // level
    x_temp_2 = (x_extremum[1] - zero[0] ) // level
    y_temp_1 = (zero[1] - y_extremum[0]) // level
    y_temp_2 = (y_extremum[1] - zero[1] ) // level
    x_spacing = (x_temp_1,x_temp_2)
    y_spacing = (y_temp_1,y_temp_2)
    return (x_spacing,y_spacing)

def get_coordinates(zero = (32767,32767), x_spacing = (2048,2048),y_spacing = (2048,2048)):
    x_value = x_axis_pin.value - zero[0]
    y_value = y_axis_pin.value - zero[1]
    if x_value &gt;= 0:
        x_axis = x_value // x_spacing[1]
    else:
        x_axis = - ((-x_value) // x_spacing[0])
    if y_value &gt;= 0:
        y_axis = y_value // y_spacing[1]
    else:
        y_axis = - ((-y_value) // y_spacing[0])
    return (x_axis,y_axis)

zero = get_zero(times =500, sleep = 0.01)
print(zero)
(x_extremum,y_extremum) = get_extremum(times = 500, sleep = 0.01)
print((x_extremum, y_extremum))
(x_spacing,y_spacing) = get_spacing(level = 128 , zero = zero, x_extremum = x_extremum,y_extremum = y_extremum)
print((x_spacing, y_spacing))

while True:
    coordinates = get_coordinates(zero = zero, x_spacing = x_spacing, y_spacing = y_spacing)
    print(coordinates)
    time.sleep(0.1)
</code></pre>
<h2 id="%E4%BD%BF%E7%94%A8%E5%A2%9E%E9%87%8F%E5%9E%8B%E6%97%8B%E8%BD%AC%E7%BC%96%E7%A0%81%E5%99%A8">ä½¿ç”¨å¢é‡å‹æ—‹è½¬ç¼–ç å™¨</h2>
<p><img src="../assets/images/rotary_incremental_encoder_pic.png" alt="" /> <img src="../assets/images/rotary_incremental_encoder_pic_1.jpg" alt="" /></p>
<p><strong>æ¥çº¿å‚è€ƒ</strong></p>
<table>
<thead>
<tr>
  <th><strong>å¢é‡å‹æ—‹è½¬ç¼–ç å™¨</strong></th>
  <th><strong>BPI-PicoW-S3</strong></th>
</tr>
</thead>
<tbody>
<tr>
  <td>GND</td>
  <td>GND</td>
</tr>
<tr>
  <td>+</td>
  <td>VBUS</td>
</tr>
<tr>
  <td>SW</td>
  <td></td>
</tr>
<tr>
  <td>DT</td>
  <td>GP0</td>
</tr>
<tr>
  <td>CLK</td>
  <td>GP1</td>
</tr>
</tbody>
</table>
<ol>
<li><p>å¢é‡å‹æ—‹è½¬ç¼–ç å™¨å¤–è§‚ç²—çœ‹ä¸ä¸€äº›å¸¸è§çš„æ—‹è½¬ç”µä½å™¨ç›¸ä¼¼ï¼Œå…¶å…³é”®çš„ä¸åŒä¹‹å¤„å¤§è‡´åˆ†ä¸ºä¸‰ç‚¹ã€‚</p>
<ol>
<li>å¾®æ§åˆ¶å™¨ä½¿ç”¨ADCå¤–è®¾æ¥è¯»å–æ—‹è½¬ç”µä½å™¨è¾“å‡ºçš„æ¨¡æ‹Ÿä¿¡å·ï¼ˆç”µå‹å€¼ï¼‰ï¼Œç¡®å®šè½¬è½´å½“å‰è§’ä½ï¼›å¾®æ§åˆ¶å™¨é€šè¿‡GPIOæ¥æ”¶å¢é‡å‹æ—‹è½¬ç¼–ç å™¨è¾“å‡ºçš„æ•°å­—ä¿¡å·ï¼Œå¯é€šè¿‡è½¯ä»¶ç¨‹åºåˆ¤æ–­ä¿¡å·æ‰€å¯¹åº”çš„è½¬è½´åŠ¨ä½œã€‚</li>
<li>å¾®æ§åˆ¶å™¨å¯åœ¨ä¸€å®šç²¾åº¦ä¸‹ï¼Œç¡®å®šæ—‹è½¬ç”µä½å™¨è½¬è½´å½“å‰è§’ä½ï¼Œä½†å› ä¸ºæ¨¡æ‹Ÿä¿¡å·çš„æŒç»­æ€§ä¸æŠ—å¹²æ‰°èƒ½åŠ›å·®çš„åŸå› ï¼Œæ— æ³•å‡†ç¡®åˆ¤æ–­å®ƒæ˜¯å¦æœ‰åŠ¨ä½œï¼›å¢é‡å‹æ—‹è½¬ç¼–ç å™¨ä»…åœ¨è½¬è½´è¿åŠ¨åˆ°ä¸€ä¸ªè§¦ç‚¹æ—¶ï¼Œå‘å¾®æ§åˆ¶å™¨å‘å‡ºä¸€æ®µåŠ¨ä½œæ•°å­—ä¿¡å·ï¼Œå¦‚æœä¸€ä¸ªå¢é‡å‹æ—‹è½¬ç¼–ç å™¨ä¸€å‘¨æœ‰20ä¸ªè§¦ç‚¹ï¼Œå®ƒæ—‹è½¬ä¸€å‘¨å°±è§¦å‘20æ¬¡åŠ¨ä½œä¿¡å·ï¼Œå¾®æ§åˆ¶å™¨å¯ä»¥ç²¾ç¡®çš„åˆ¤æ–­å®ƒæ˜¯å¦åŠ¨ä½œï¼Œå‘å“ªä¸ªæ–¹å‘è½¬åŠ¨ï¼Œä¿¡å·è§¦å‘äº†å¤šå°‘æ¬¡ã€‚</li>
<li>æ—‹è½¬ç”µä½å™¨é€šå¸¸ä¸å¯å‘ä»»æ„è½¬å‘è¿›è¡Œæ— é™æ—‹è½¬ï¼Œä¼šåœæ­¢åœ¨æœ€å¤§æˆ–æœ€å°é™ä½ç‚¹ï¼›å¢é‡å‹æ—‹è½¬ç¼–ç å™¨å¯å‘ä»»æ„è½¬å‘è¿›è¡Œæ— é™æ—‹è½¬ã€‚</li>
</ol>
</li>
<li><p>å¢é‡å‹æ—‹è½¬ç¼–ç å™¨é‡‡ç”¨æ­£äº¤ç¼–ç å™¨ç”Ÿæˆå…¶Aå’ŒBçš„è¾“å‡ºä¿¡å·ã€‚ä»Aå’ŒBè¾“å‡ºå‘å°„çš„è„‰å†²æ˜¯æ­£äº¤ç¼–ç çš„ï¼Œè¿™æ„å‘³ç€å½“å¢é‡ç¼–ç å™¨ä»¥æ’å®šé€Ÿåº¦è¿åŠ¨æ—¶ï¼ŒAå’ŒBæ³¢å½¢æ˜¯æ–¹æ³¢ï¼ŒAå’ŒBä¹‹é—´å­˜åœ¨90åº¦çš„ç›¸ä½å·®ã€‚æœ€ç»ˆAå’ŒBä¿¡å·å°†ä»ä¸¤ä¸ªç®¡è„šä¼ è¾“ç»™å¾®æ§åˆ¶å™¨ã€‚<br />
 <img src="../assets/images/rotary_incremental_encoder_pic_2.gif" alt="" /></p>
</li>
<li><p>ç†è®ºä¸Šï¼Œåœ¨ä»»ä½•ç‰¹å®šæ—¶é—´ï¼Œå¯¹äºæ—‹è½¬ç¼–ç å™¨ï¼ŒAå’ŒBä¿¡å·ä¹‹é—´ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬çš„ç›¸ä½å·®ä¸º+90Â°ï¼Œé€†æ—¶é’ˆæ—‹è½¬çš„ç›¸ä½å·®ä¸ºâˆ’90Â°ï¼Œå…·ä½“åˆ™å–å†³äºè®¾å¤‡å†…éƒ¨çš„æ­£äº¤ç¼–ç å™¨è®¾è®¡ã€‚</p>
</li>
<li><p>Aæˆ–Bè¾“å‡ºä¸Šçš„è„‰å†²é¢‘ç‡ä¸è½¬è½´çš„é€Ÿåº¦ï¼ˆä½ç½®å˜åŒ–ç‡ï¼‰æˆæ­£æ¯”ã€‚è¾ƒé«˜çš„é¢‘ç‡è¡¨ç¤ºè¾ƒå¿«çš„é€Ÿåº¦ï¼Œè€Œè¾ƒä½çš„é¢‘ç‡è¡¨ç¤ºè¾ƒæ…¢çš„é€Ÿåº¦ã€‚å½“è½¬è½´é™æ­¢æ—¶ï¼Œé™æ€ã€ä¸å˜çš„ä¿¡å·è¾“å‡ºåœ¨Aå’ŒBä¸Šï¼Œæ‰€ä»¥æœ‰å¾ˆå¤šæµ‹é€Ÿæ–¹æ¡ˆä½¿ç”¨å¢é‡å‹æ—‹è½¬ç¼–ç å™¨ã€‚</p>
</li>
</ol>
<blockquote>
<p>å‚è€ƒ <a href="https://en.wikipedia.org/wiki/Incremental_encoder#Quadrature_decoder"  target="_blank">ç»´åŸºç™¾ç§‘: å¢é‡ç¼–ç å™¨</a> ã€‚</p>
</blockquote>
<ol start="5">
<li>ç”¨CircuitPythonè®¾è®¡ä¸€ä¸ªç¨‹åºè¯»å–åœ¨GP0ä¸GP1å¼•è„šä¸Šçš„ä¿¡å·ï¼Œå½“å…¶ä¸­ä¸€ä¸ªå‘ç”Ÿå˜åŒ–æ—¶åŒæ—¶è¾“å‡ºä¸¤ä¸ªå¼•è„šå½“å‰çš„å€¼ï¼Œè¿æ¥å¼€å‘æ¿ä¸å¢é‡å‹æ—‹è½¬ç¼–ç å™¨åè¿è¡Œç¨‹åºã€‚</li>
</ol>

<pre class="language-python"><code class="language-python">import board
import digitalio

dt = digitalio.DigitalInOut(board.GP0)
clk = digitalio.DigitalInOut(board.GP1)
dt.switch_to_input()
clk.switch_to_input()
dt_last_value = 0
clk_last_value = 0

while True:
    if dt.value != dt_last_value or clk.value != clk_last_value:
        dt_last_value = int(dt.value)
        clk_last_value = int(clk.value)
        print((dt_last_value,clk_last_value))
</code></pre>
<ol start="6">
<li><p>é€çº§è½¬åŠ¨è½¬è½´ï¼Œè§‚å¯Ÿè¾“å‡ºä¿¡å·ï¼Œå¦‚æœæœ‰é€»è¾‘åˆ†æä»ªæˆ–ç¤ºæ³¢å™¨ä¹Ÿå¯æ¥å…¥è§‚å¯Ÿã€‚</p>
<ol>
<li>è½¬è½´é€†æ—¶é’ˆæ—‹è½¬æ—¶ï¼ŒREPLçš„è¾“å‡ºã€‚</li>
</ol>

<pre class="language-none"><code class="language-none">(1, 1)
(1, 0)
(0, 0)
(0, 1)
(1, 1)
(1, 0)
(0, 0)
(0, 1)
(1, 1)
</code></pre>
<ol start="2">
<li>è½¬è½´é€†æ—¶é’ˆæ—‹è½¬æ—¶ï¼Œé€»è¾‘åˆ†æä»ªæ‰€è§‚å¯Ÿåˆ°çš„æ³¢å½¢ã€‚</li>
</ol>
<p><img src="../assets/images/rotary_incremental_encoder_0.png" alt="" /></p>
<ol start="3">
<li>è½¬è½´é¡ºæ—¶é’ˆæ—‹è½¬æ—¶ï¼ŒREPLçš„è¾“å‡ºã€‚</li>
</ol>

<pre class="language-none"><code class="language-none">(1, 1)
(0, 1)
(0, 0)
(1, 0)
(1, 1)
(0, 1)
(0, 0)
(1, 0)
(1, 1)
</code></pre>
<ol start="4">
<li>è½¬è½´é€†æ—¶é’ˆæ—‹è½¬æ—¶ï¼Œé€»è¾‘åˆ†æä»ªæ‰€è§‚å¯Ÿåˆ°çš„æ³¢å½¢ã€‚</li>
</ol>
<p><img src="../assets/images/rotary_incremental_encoder_1.png" alt="" /></p>
</li>
<li><p>é¦–å…ˆå¯ä»¥è§‚å¯Ÿåˆ°çš„ç°è±¡æ˜¯ï¼Œè½¬è½´å®Œæˆä¸€çº§åŠ¨ä½œåï¼Œä¸¤ä¸ªå¼•è„šä¸Šçš„ä¿¡å·éƒ½ä¸º1ï¼Œå¯ä»¥è®¾è®¡ç¨‹åºï¼Œå½“å€¼éƒ½å˜ä¸º1æ—¶è¾“å‡ºä¸€æ¬¡è®¡æ•°å€¼ï¼Œè®¡æ•°å€¼å¯ä½œä¸ºåˆ¤æ–­ç¼–ç å™¨å®Œæˆä¸€æ¬¡åŠ¨ä½œçš„ä¾æ®ã€‚</p>
</li>
</ol>

<pre class="language-python"><code class="language-python">import board
import digitalio

dt = digitalio.DigitalInOut(board.GP0)
clk = digitalio.DigitalInOut(board.GP1)
dt.switch_to_input()
clk.switch_to_input()
dt_last_value = 0
clk_last_value = 0
count = 0

while True:
    if dt.value != dt_last_value or clk.value != clk_last_value:
        dt_last_value = int(dt.value)
        clk_last_value = int(clk.value)
        print((dt_last_value,clk_last_value))
        if (dt_last_value,clk_last_value) == (1,1):
            print('--',count_1,'--')
            count += 1
</code></pre>
<ol start="8">
<li>å†ç¡®å®šç¼–ç å™¨é¡ºæ—¶é’ˆæ—‹è½¬ä¸é€†æ—¶é’ˆæ—‹è½¬çš„åŠ¨ä½œï¼Œåœ¨ä¸¤ä¸ªå¼•è„šä¸Šè¾“å‡ºçš„ä¿¡å·å˜åŒ–çš„è§„å¾‹ä¸å·®å¼‚ã€‚</li>
<li>é€†æ—¶é’ˆæ—‹è½¬çš„è§„å¾‹ä¸º(1, 1)&gt;(1, 0)&gt;(0, 0)&gt;(0, 1)&gt;(1, 1)ã€‚</li>
<li>é¡ºæ—¶é’ˆæ—‹è½¬çš„è§„å¾‹ä¸º(1, 1)&gt;(0, 1)&gt;(0, 0)&gt;(1, 0)&gt;(1, 1)ã€‚</li>
</ol>
<p>ç”±æ­¤å¯è®¾è®¡ä¸€ä¸ªé¡ºæ—¶é’ˆæ—‹è½¬ä½¿è®¡æ•°+1ï¼Œé€†æ—¶é’ˆæ—‹è½¬ä½¿è®¡æ•°-1çš„ç¨‹åºï¼Œå¹¶åŠ å…¥æ¶ˆæŠ–é™¤é”™çš„åŠŸèƒ½ã€‚</p>

<pre class="language-python"><code class="language-python">import board
import digitalio
import time
dt = digitalio.DigitalInOut(board.GP0)
clk = digitalio.DigitalInOut(board.GP1)
dt.switch_to_input()
clk.switch_to_input()
dt_last_value = 0
clk_last_value = 0
count = 0
start_sign = 0
clockwise_sign = 0
while True:
    if dt.value != dt_last_value or clk.value != clk_last_value:
        dt_last_value = int(dt.value)
        clk_last_value = int(clk.value)
        print((dt_last_value,clk_last_value))
        if start_sign == 0 and (dt_last_value,clk_last_value) == (0,0):
            start_sign = 1
        elif start_sign == 1:
            if (dt_last_value,clk_last_value) == (1, 0):
                clockwise_sign = 1
            elif (dt_last_value,clk_last_value) == (0, 1):
                clockwise_sign = -1
            elif (dt_last_value,clk_last_value) == (1, 1):
                count = count + clockwise_sign
                clockwise_sign = 0
                start_sign = 0
                print('--',count,'--')
</code></pre>
<ol start="9">
<li>æ­¤ç¨‹åºä¸­çš„æ¶ˆæŠ–é™¤é”™åŠŸèƒ½çš„å®ç°ï¼Œå¹¶ä¸æ˜¯é€æ­¥åˆ¤æ–­éªŒè¯æ˜¯å¦ç¬¦åˆä¿¡å·è§„å¾‹ï¼Œæˆ–è®¸è¿˜æœ‰æ›´å¤šåŠæ³•å¯ä»¥å®ç°æ¶ˆæŠ–é™¤é”™ï¼Œæ¬¢è¿è®¨è®ºã€‚</li>
<li>å¦å¤– CircuitPython çš„rotaryioæ¨¡å—å¯ç›´æ¥å®ç°æ­£åè½¬è®¡æ•°åŠŸèƒ½ã€‚ï¼ˆå†…éƒ¨ç¨‹åºæœ‰æ‰€å·®å¼‚ï¼Œä½†æœ€ç»ˆå®ç°åŠŸèƒ½åŸºæœ¬ä¸€è‡´ï¼‰ã€‚</li>
</ol>

<pre class="language-python"><code class="language-python">import rotaryio
import board

encoder = rotaryio.IncrementalEncoder(board.GP0,board.GP1) 
last_position = 0

while True:
    position = encoder.position
    if position != last_position:
        print(position)
    last_position = position
</code></pre>
<h2 id="%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85CircuitPython%E5%BA%93%EF%BC%8C%E9%A9%B1%E5%8A%A8ssd1306-oled%E5%B1%8F%E5%B9%95">ä¸‹è½½å®‰è£…CircuitPythonåº“ï¼Œé©±åŠ¨ssd1306 oledå±å¹•</h2>
<p><img src="../assets/images/adafruit_ssd1306_4.jpg" alt="" /></p>
<p><a href="https://circuitpython.org/libraries"  target="_blank">CircuitPythonåº“ å®˜ç½‘é¡µé¢</a><br />
<a href="https://docs.circuitpython.org/projects/bundle/en/latest/index.html"  target="_blank">Adafruit CircuitPythonåº“ æ–‡æ¡£é¡µé¢</a><br />
<a href="https://docs.circuitpython.org/projects/ssd1306/en/latest/index.html"  target="_blank">Adafruit SSD1306 åº“ æ–‡æ¡£é¡µé¢</a><br />
<a href="https://docs.circuitpython.org/projects/framebuf/en/latest/"  target="_blank">Adafruit framebuf åº“ æ–‡æ¡£é¡µé¢</a></p>
<p>æœ¬èŠ‚ä»¥ssd1306é©±åŠ¨åº“ä¸framebufåº“ä¸ºä¾‹ï¼ŒæŒ‡å¯¼å¦‚ä½•ä¸‹è½½å®‰è£…CircuitPythonåº“ã€‚</p>
<ol>
<li>åœ¨æ–°é¡µé¢æ‰“å¼€<a href="https://docs.circuitpython.org/projects/bundle/en/latest/index.html"  target="_blank">Adafruit CircuitPythonåº“ æ–‡æ¡£é¡µé¢</a>ã€‚</li>
<li>åœ¨é¡µé¢ä¸­æ‰¾åˆ°å¹¶æ‰“å¼€ <strong>SSD1306 OLED (framebuf)</strong> é¡¹ï¼Œç„¶åç‚¹å‡»å·¦ä¾§çš„<strong>Download from GitHub</strong>é¡¹ï¼Œè·³è½¬åˆ°å…¶GitHub releasesé¡µé¢ï¼Œç‚¹å‡» <strong>adafruit-circuitpython-ssd1306-8.x-mpy-2.12.12.zip</strong> é¡¹å°†å…¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚</li>
</ol>
<p><img src="../assets/images/adafruit_ssd1306_1.jpg" alt="" /><br />
<img src="../assets/images/adafruit_ssd1306_2.jpg" alt="" /><br />
<img src="../assets/images/adafruit_ssd1306_3.jpg" alt="" /><br />
3. å›åˆ°Adafruit CircuitPythonåº“ æ–‡æ¡£é¡µé¢ï¼Œåœ¨é¡µé¢ä¸­æ‰¾åˆ°å¹¶æ‰“å¼€ <strong>Framebuf Module</strong> é¡¹ï¼Œç„¶åç‚¹å‡»å·¦ä¾§çš„<strong>Download from GitHub</strong>é¡¹ï¼Œè·³è½¬åˆ°å…¶GitHub releasesé¡µé¢ï¼Œç‚¹å‡» <strong>adafruit-circuitpython-framebuf-8.x-mpy-1.4.14.zip</strong> é¡¹å°†å…¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚</p>
<blockquote>
<p>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬å³å¯ã€‚</p>
</blockquote>
<ol start="4">
<li>å°†ä¸‹è½½çš„ä¸¤ä¸ªå‹ç¼©åŒ…è§£å‹ï¼Œå†…éƒ¨æ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹ï¼š</li>
</ol>

<pre class="language-none"><code class="language-none">â”œâ”€examples
â”‚  â”œâ”€xxx.py
â”‚  â”œâ”€xxx.py
â”‚  â””â”€......
â”œâ”€lib
â”‚  â”œâ”€a.mpy
â”‚  â”œâ”€b.mpy
â”‚  â””â”€......
â””â”€requirements
   â”œâ”€a
   â”‚ â””â”€requirements.txt
   â”œâ”€b
   â”‚ â””â”€requirements.txt
   â””â”€......
</code></pre>
<ol start="5">
<li>examplesæ–‡ä»¶å¤¹ä¸­çš„æ˜¯ä¸€äº›åº“çš„ä½¿ç”¨ä¾‹ç¨‹ï¼Œlibæ–‡ä»¶å¤¹ä¸­æ‰©å±•åä¸º<code>.mpy</code>çš„å³æ˜¯åº“æ–‡ä»¶ï¼Œrequirementsæ–‡ä»¶å¤¹ä¸­çš„ requirements.txt æ–‡ä»¶ï¼Œå…¶ä¸­è®°å½•äº†å„åº“æ–‡ä»¶æ‰€ä¾èµ–çš„ï¼Œå¿…è¦çš„å…¶ä»–åº“æ–‡ä»¶åç§°ï¼Œæœ‰ä¸€äº›å·²ç»åŒ…å«åœ¨CircuitPythonå›ºä»¶ä¸­ï¼Œè€Œä¸åœ¨å…¶å†…çš„åˆ™éœ€å¦å¤–ä¸‹è½½å®‰è£…ã€‚ä¾‹å¦‚ <strong>adafruit_ssd1306</strong> åº“ç»˜åˆ¶å›¾å½¢å’Œæ–‡å­—çš„æ–¹æ³•å…¨éƒ¨ä¾èµ–äº<strong>adafruit_framebuf</strong> åº“ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ç¬¬3æ­¥ä¸­ä¹Ÿå°†å…¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚</li>
<li>å°†ä¸¤ä¸ªlibæ–‡ä»¶å¤¹ä¸­æ‰©å±•åä¸º<code>.mpy</code>çš„åº“æ–‡ä»¶å¤åˆ¶åˆ° <strong>CIRCUITPY</strong> ç£ç›˜ä¸­çš„libæ–‡ä»¶å¤¹å†…ï¼Œå³å¯åœ¨ç¨‹åºä¸­è°ƒç”¨è¿™ä¸¤ä¸ªåº“ã€‚</li>
<li>adafruit_framebuf åº“è¿˜éœ€å°†å…¶examplesæ–‡ä»¶å¤¹ä¸­çš„ <strong>font5x8.bin</strong> æ–‡ä»¶å¤åˆ¶åˆ°<strong>CIRCUITPY</strong> ç£ç›˜ä¸­çš„æ ¹ç›®å½•ï¼Œå³ code.py æ–‡ä»¶æ‰€åœ¨çš„åœ°æ–¹ã€‚æ­¤ä¸ºå­—åº“æ–‡ä»¶ï¼Œæ˜¾ç¤ºæ–‡å­—éœ€è¦ä½¿ç”¨å®ƒã€‚</li>
<li>å°†ä¸€å—i2cåè®®çš„ssd1306 oledå±å¹•æ¨¡å—ä¸å¼€å‘æ¿è¿æ¥ã€‚</li>
</ol>
<p><strong>æ¥çº¿å‚è€ƒ</strong></p>
<table>
<thead>
<tr>
  <th style="text-align:center">ssd1306</th>
  <th style="text-align:center">BPI-PicoW-S3</th>
</tr>
</thead>
<tbody>
<tr>
  <td style="text-align:center">GND</td>
  <td style="text-align:center">GND</td>
</tr>
<tr>
  <td style="text-align:center">VCC</td>
  <td style="text-align:center">3V3</td>
</tr>
<tr>
  <td style="text-align:center">SCL</td>
  <td style="text-align:center">GP0</td>
</tr>
<tr>
  <td style="text-align:center">SDA</td>
  <td style="text-align:center">GP1</td>
</tr>
</tbody>
</table>
<ol>
<li>ç¼–è¾‘ code.py æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­è¾“å…¥ä»¥ä¸‹ä»£ç å³å¯é©±åŠ¨æ­¤å±å¹•æ¨¡å—è¾“å‡ºå›¾å½¢å’Œå­—ç¬¦ã€‚<br />
 ä¿®æ”¹ä»£ç ä¸­çš„å˜é‡ <code>bgColor</code>æ•°å€¼ä¸º1ï¼Œå³å¯ä½¿æ˜¾ç¤ºèƒŒæ™¯ä¸ºç™½è‰²ï¼Œæ˜¾ç¤ºå›¾å½¢ä¸ºé»‘è‰²ã€‚<br />
 åœ¨ä¸¤ä¸ªåº“çš„æ–‡æ¡£ä¸­å¯æŸ¥æ‰¾åˆ°APIå‚è€ƒï¼Œé…åˆä¾‹ç¨‹å³å¯å¿«é€Ÿç†è§£ï¼Œä¸Šæ‰‹ä½¿ç”¨ssd1306æ˜¾ç¤ºæ¨¡å—ã€‚</li>
</ol>

<pre class="language-python"><code class="language-python">import board
import busio
import adafruit_ssd1306
import time

i2c = busio.I2C(board.GP0, board.GP1)
display = adafruit_ssd1306.SSD1306_I2C(128, 64, i2c, addr=0x3C)
bgColor=0

display.fill(bgColor)
for i in range(0,display.height,4):
    for j in range(0,display.width,4):
        display.pixel(j, i, not bgColor)
    display.show()

display.fill(bgColor)
for i in range(0,display.height,4):
    display.hline(0, i,display.width, not bgColor)
    display.show()

display.fill(bgColor)
for i in range(0,display.width,8):
    display.vline(i, 0,display.height, not bgColor)
    display.show()

display.fill(bgColor)
for i in range(0,display.height,4):
    display.line(0, 0, display.width, i, not bgColor)
    display.line(display.width, display.height, 0, display.height-i, not bgColor)
    display.show()

display.fill(bgColor)
for i in range(0,display.width//2,4):
    display.circle(display.width//2, display.height//2, i, not bgColor)
    display.show()

display.fill(bgColor)
for i in range(0,display.height,16):
    for j in range(0,display.width,16):
        display.rect(j, i, 12, 12, not bgColor)
        display.show()

for i in range(0,display.height,16):
    for j in range(0,display.width,16):
        display.fill_rect(j+2, i+2, 8, 8, not bgColor)
        display.show()

display.fill(bgColor)
display.text(&quot;Hello&quot;, 0, 24, not bgColor, font_name='font5x8.bin', size=2)
display.show()
time.sleep(0.25)
display.text(&quot;World!&quot;, 0, 40, not bgColor, font_name='font5x8.bin', size=3)
display.show()
time.sleep(0.25)
display.text(&quot;&gt;&gt;&gt;&quot;, 60, 0, not bgColor, font_name='font5x8.bin', size=4)
display.show()
time.sleep(1)

display.fill(bgColor)
char_width = 6
char_height = 8
chars_per_line = display.width // 6
for i in range(255):
    x = char_width * (i % chars_per_line)
    y = char_height * (i // chars_per_line)
    display.text(chr(i), x, y, not bgColor, font_name='font5x8.bin', size=1)
display.show()
</code></pre>
<h2 id="%E5%AE%9E%E6%97%B6%E5%9B%BE%E5%BD%A2%E6%98%BE%E7%A4%BA%E5%8F%8C%E8%BD%B4%E6%91%87%E6%9D%86%E5%9D%90%E6%A0%87%E4%BD%8D%E7%BD%AE">å®æ—¶å›¾å½¢æ˜¾ç¤ºåŒè½´æ‘‡æ†åæ ‡ä½ç½®</h2>

<pre class="language-python"><code class="language-python">import time
import board
import busio
import analogio
import adafruit_ssd1306

def get_zero(times =500, sleep = 0.01):
    x_total = 0
    y_total = 0
    for i in range (times):
        x_axis = x_axis_pin.value
        y_axis = y_axis_pin.value
        x_total += x_axis
        y_total += y_axis
        time.sleep(sleep)
    x_zero = x_total // times
    y_zero = y_total // times
    return (x_zero,y_zero)

def get_extremum(times =500, sleep = 0.01):
    x_list = []
    y_list = []
    for i in range (times):
        x_axis = x_axis_pin.value
        y_axis = y_axis_pin.value
        x_list.append(x_axis)
        y_list.append(y_axis)
        time.sleep(sleep)
    x_extremum = (min(x_list),max(x_list))
    y_extremum = (min(y_list),max(y_list))
    return (x_extremum,y_extremum)

def get_spacing(level = 16 , zero =(32767,32767) ,x_extremum = (0,65535),y_extremum = (0,65535)):
    x_temp_1 = (zero[0] - x_extremum[0]) // level
    x_temp_2 = (x_extremum[1] - zero[0] ) // level
    y_temp_1 = (zero[1] - y_extremum[0]) // level
    y_temp_2 = (y_extremum[1] - zero[1] ) // level
    x_spacing = (x_temp_1,x_temp_2)
    y_spacing = (y_temp_1,y_temp_2)
    return (x_spacing,y_spacing)

def get_coordinates(zero = (32767,32767), x_spacing = (2048,2048),y_spacing = (2048,2048)):
    x_value = x_axis_pin.value - zero[0]
    y_value = y_axis_pin.value - zero[1]
    if x_value &gt;= 0:
        x_axis = x_value // x_spacing[1]
    else:
        x_axis = - ((-x_value) // x_spacing[0])
    if y_value &gt;= 0:
        y_axis = y_value // y_spacing[1]
    else:
        y_axis = - ((-y_value) // y_spacing[0])
    return (x_axis,y_axis)

i2c = busio.I2C(board.GP0, board.GP1)
display = adafruit_ssd1306.SSD1306_I2C(128, 64, i2c, addr=0x3C)
display.fill(0)
display.show()

x_axis_pin = analogio.AnalogIn(board.A0)
y_axis_pin = analogio.AnalogIn(board.A1)

display.text('Zero adjustment', 0, 28, 1, font_name='font5x8.bin', size=1)
display.show()
zero = get_zero(times =200, sleep = 0.01)
print(zero)
display.fill(0)
display.text('Extremum adjustment', 0, 28, 1, font_name='font5x8.bin', size=1)
display.show()
(x_extremum,y_extremum) = get_extremum(times = 200, sleep = 0.01)
print((x_extremum, y_extremum))
(x_spacing,y_spacing) = get_spacing(level = 32 , zero = zero, x_extremum = x_extremum,y_extremum = y_extremum)
print((x_spacing, y_spacing))
display.fill(0)
display.text('x=', 70, 16, 1, font_name='font5x8.bin', size=2)
display.text('y=', 70, 32, 1, font_name='font5x8.bin', size=2)
(x_axis,y_axis) = (0,0)
(x_axis_1,y_axis_1) = (0,0)
(x_axis_2,y_axis_2) = (0,0)
while True:
    (x_axis,y_axis) = get_coordinates(zero = zero, x_spacing = x_spacing, y_spacing = y_spacing)
    # print(x_axis,y_axis)
    if (x_axis,y_axis) == (x_axis_1,y_axis_1):
        pass
    else:
        display.text(str(x_axis_1), 90, 16, 0, font_name='font5x8.bin', size=2)
        display.text(str(y_axis_1), 90, 32, 0, font_name='font5x8.bin', size=2)
        display.fill_rect(x_axis_2-3, y_axis_2-3, 6, 6, 0)
        (x_axis_1,y_axis_1) = (x_axis,y_axis)
        (x_axis_2,y_axis_2) = (x_axis+32, -y_axis+32)
        display.fill_rect(x_axis_2-3, y_axis_2-3, 6, 6, 1)
        display.text(str(x_axis_1), 90, 16, 1, font_name='font5x8.bin', size=2)
        display.text(str(y_axis_1), 90, 32, 1, font_name='font5x8.bin', size=2)
        display.show()


</code></pre>

                        
                    </div>
                </div>
                <div id="previous_next">
                    <div id="previous">
                        
                        <a href="/PicoW_S3_doc/zh/CircuitPython/flash_tinyuf2.html">
                            <span class="icon"></span>
                            <span class="label">çƒ§å½•tinyUF2å›ºä»¶çš„æ–¹æ³•</span>
                        </a>
                        
                    </div>
                    <div id="next">
                        
                        <a href="/PicoW_S3_doc/zh/Arduino/Environment.html">
                            <span class="label">Arduinoç¯å¢ƒæ­å»º</span>
                            <span class="icon"></span>
                        </a>
                        
                    </div>
                </div>
                <div id="comments-container"></div>
            </div>
            <div id="toc_wrapper">
                <div id="toc">
                    <div id="toc_content">
                            
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a id="to_top" href="#"></a>
    <div id="doc_footer">
        <div id="footer">
            <div id="footer_top">
                <ul>
<li><a>é“¾æ¥</a><ul><li><a target="_blank" href="https://www.banana-pi.org.cn">Banana Pi</a></li>
<li><a target="_blank" href="http://wiki.banana-pi.org/Main_Page">Wiki</a></li>
<li><a target="_blank" href="https://webduino.com.cn/site/zh_cn/index.html">Webduino</a></li>
<li><a target="_blank" href="https://shop108780008.taobao.com/">æ·˜å®</a></li>
</ul>
</li>
<li><a>æºç </a><ul><li><a target="_blank" href="https://github.com/BPI-STEAM/BPI-Doc">æœ¬ç½‘ç«™æºæ–‡ä»¶</a></li>
<li><a target="_blank" href="https://github.com/BPI-SINOVOIP">BananaPiæºæ–‡ä»¶</a></li>
</ul>
</li>
<li><a>è”ç³»æˆ‘ä»¬</a><ul><li><a>ç”µè¯: +86 0755-26475332</a>
</li>
<li><a>å•†ä¸šæ”¯æŒ: sales@banana-pi.com (é”€å”®éƒ¨ï¼‰</a>
</li>
<li><a>æŠ€æœ¯æ”¯æŒ: support@banana-pi.com (æŠ€æœ¯éƒ¨ï¼‰</a>
</li>
<li><a>åœ°å€: å¹¿ä¸œçœæ¾å±±æ¹–é«˜æ–°æŠ€æœ¯äº§ä¸šå¼€å‘åŒºèæ˜“å¤§å¦ 7 æ¥¼</a>
</li>
</ul>
</li>
</ul>

            </div>
            <div id="footer_bottom">
                <ul>
<li><a target="_blank" href="https://bpi-steam.com/">Copyright Â© 2022 Banana Pi</a></li>
</ul>

            </div>
        </div>
    </div>
    
        <script src="/teedoc-plugin-markdown-parser/mermaid.min.js"></script>
    
        <script>mermaid.initialize({startOnLoad:true});</script>
    
        <script type="text/javascript">
                var transLoaded = false;
                var loading = false;
                var domain = "/";
                var domainDefault = domain;
                var storeDomain = localStorage.getItem("googleTransDomain");
                if(storeDomain){
                    domain = storeDomain;
                }
                function getUrl(domain){
                    if(domain == "/")
                        return "/static/js/google_translate/element.js?cb=googleTranslateElementInit";
                    else
                        return "https://" + domain + "/translate_a/element.js?cb=googleTranslateElementInit";
                }
                var url = getUrl(domain);
                function googleTranslateElementInit() {
                    new google.translate.TranslateElement({pageLanguage: "auto", layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
                }
                function loadJS( url, callback ){
                    var script = document.createElement('script');
                    fn = callback || function(){ };
                    script.type = 'text/javascript';
                    if(script.readyState){
                        script.onreadystatechange = function(){
                            if( script.readyState == 'loaded' || script.readyState == 'complete' ){
                                script.onreadystatechange = null;
                                fn();
                            }
                        };
                    }else{
                        script.onload = function(){
                            fn();
                        };
                    }
                    script.src = url;
                    document.getElementsByTagName('head')[0].appendChild(script);
                }
                function removeHint(){
                    var hint = document.getElementById("loadingTranslate");
                    if(hint){
                        hint.remove();
                    }
                }
                var btn = document.getElementById("google_translate_element");
                btn.onclick = function(){
                    if(transLoaded) return;
                    if(loading){
                        var flag = confirm("loading from " + domain + ", please wait, or change domain?");
                        if(flag){
                            newDomain = prompt("domain, default: " + domainDefault + ", now: " + domain);
                            if(newDomain){
                                domain = newDomain;
                                console.log(domain);
                                url = getUrl(domain);
                                loadJS(url, function(){
                                    localStorage.setItem("googleTransDomain", domain);
                                    removeHint()
                                    transLoaded = true;
                                });
                            }
                        }
                        return;
                    }
                    btn.innerHTML = '<span id="loadingTranslate"><img class="icon" src="/static/image/google_translate/translate.svg"/>Loading ...</span>';
                    loading = true;
                    loadJS(url, function(){
                        localStorage.setItem("googleTransDomain", domain);
                        removeHint()
                        transLoaded = true;
                    });
                }
                </script>
            
    
        <script src="/static/js/plugin_blog/main.js"></script>
    
        <script src="/static/js/theme_default/tocbot.min.js"></script>
    
        <script src="/static/js/theme_default/main.js"></script>
    
        <script src="/static/js/theme_default/viewer.min.js"></script>
    
        <script src="/static/css/theme_default/prism.min.js"></script>
    
        <script src="/static/js/search/search_main.js"></script>
    
        <script src="/static/js/gitalk/gitalk.min.js"></script>
    
        <script src="/static/js/gitalk/main.js"></script>
    
        <script src="/static/js/custom.js"></script>
    
</body>

</html>